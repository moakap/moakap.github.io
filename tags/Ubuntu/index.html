<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
<title>Tag: Ubuntu - Moakap&#39;s Blog</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.css">




<meta name="description" content="">





    <meta property="og:type" content="website">
<meta property="og:title" content="Moakap&#39;s Blog">
<meta property="og:url" content="https://moakap.github.io/tags/Ubuntu/index.html">
<meta property="og:site_name" content="Moakap&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="moakap">
<meta name="twitter:card" content="summary">





<link rel="icon" href="/favicon.png">


<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ovo|Source+Code+Pro">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/css/justifiedGallery.min.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css">


<link rel="stylesheet" href="/css/style.css">


<script defer src="//use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


    
    
    
    
    
    
    
    
    
    

    


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
    
<nav class="navbar is-transparent is-fixed-top navbar-main" role="navigation" aria-label="main navigation">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item navbar-logo" href="/">
                
                    
                    <img src="/images/snail-filled.png" alt="" height="28">
                    
                
            </a>
            <div class="navbar-burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
        
        <div class="navbar-menu navbar-start">
            
            <a class="navbar-item "
               href="/archives">Archives</a>
            
            <a class="navbar-item "
               href="/categories/Lifestyle">Lifestyle</a>
            
            <a class="navbar-item "
               href="/categories/Technology">Technology</a>
            
            <a class="navbar-item "
               href="/about">About</a>
            
        </div>
        
        <div class="navbar-menu navbar-end">
            
            <a class="navbar-item search" title="Search" href="javascript:;">
                <i class="fas fa-search"></i>
            </a>
            
            
            
        </div>
    </div>
</nav>

    <section class="section section-heading">
    <div class="container">
        <div class="content">
            <h5>#Ubuntu</h5>
        </div>
    </div>
</section>
<section class="section">
    <div class="container">
    
        <article class="article content gallery" itemscope itemprop="blogPost">
    <h1 class="article-title is-size-3 is-size-4-mobile" itemprop="name">
        
            <a href="/2021/05/27/Swarm/Install-Bee-under-Ubuntu/" itemprop="url">Ubuntu下运行Swarm Bee节点</a>
        
    </h1>
    <div class="article-meta columns is-variable is-1 is-multiline is-mobile is-size-7-mobile">
        <span class="column is-narrow">
            
                <time datetime="2021-05-27T06:34:52.371Z" itemprop="datePublished">May 27 2021</time>
            
        </span>
        
        
        <span class="column is-narrow">
            
            
            16 minutes read (About 2472 words)
        </span>
        
    </div>
    <div class="article-entry is-size-6-mobile" itemprop="articleBody">
    
        <html><head></head><body><h2 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h2><p>基本安装步骤比较简单，可以直接[Swarm Bee参考官方文档](<a target="_blank" rel="noopener" href="https://docs.ethswarm.org/docs/installation/quick-start">Quick Start | Swarm Bee Client (ethswarm.org)</a>)。</p>
<h3 id="1-1-Bee-Clef安装"><a href="#1-1-Bee-Clef安装" class="headerlink" title="1.1 Bee Clef安装"></a>1.1 Bee Clef安装</h3><p>在安装Bee之前，建议首先[安装Bee Clef软件包](<a target="_blank" rel="noopener" href="https://docs.ethswarm.org/docs/installation/bee-clef/">Clef External Signer | Swarm Bee Client (ethswarm.org)</a>)。[Clef](<a target="_blank" rel="noopener" href="https://github.com/ethereum/go-ethereum/tree/master/cmd/clef">go-ethereum/cmd/clef at master · ethereum/go-ethereum (github.com)</a>)是Go以太坊客户端使用的独立签名器（单独的一个对以太坊交易进行签名认证的服务），能够管理基于key-file的账户和硬钱包账户。[Bee-Clef](<a target="_blank" rel="noopener" href="https://github.com/ethersphere/bee-clef">ethersphere/bee-clef: bee-clef is official ethereum clef binary wrapped and preconfigured for bee as a service (github.com)</a>)则在clef基础上针对bee做了定制化配置。Bee节点可以通过bee-clef来访问Swarm测试网或以太坊主网。当然，你也可以直接在本地运行原生的[clef](<a target="_blank" rel="noopener" href="https://github.com/ethereum/go-ethereum/tree/master/cmd/clef">go-ethereum/cmd/clef at master · ethereum/go-ethereum (github.com)</a>)，然后增加自己的配置在运行Bee。<strong>如果确定要使用Bee-clef，必须在Bee之前先安装Bee Clef。</strong></p>
<h4 id="选择最新版本"><a href="#选择最新版本" class="headerlink" title="选择最新版本"></a>选择最新版本</h4><ul>
<li>打开[Bee-clef下载页面](<a target="_blank" rel="noopener" href="https://github.com/ethersphere/bee-clef/releases/">Releases · ethersphere/bee-clef (github.com)</a>)，查看最新版本。写当前文档时的最新版本为v0.4.12。 </li>
</ul>
<h4 id="安装Bee-Clef"><a href="#安装Bee-Clef" class="headerlink" title="安装Bee-Clef"></a>安装Bee-Clef</h4><ul>
<li><p>下载Bee-clef</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/ethersphere/bee-clef/releases/download/v0.4.12/bee-clef_0.4.12_arm64.deb</span><br><span class="line">sudo dpkg -i bee-clef_0.4.12_arm64.deb</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<h4 id="配置Bee-clef"><a href="#配置Bee-clef" class="headerlink" title="配置Bee-clef"></a>配置Bee-clef</h4><p>安装以后的默认配置文件在<code>/etc/bee-clef</code>目录下，包含<code>4byte.json</code>和<code>rules.s</code>两个文件，已经针对Bee做了基本配置，这里不需要特别修改。</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ll /etc/bee-clef/</span></span><br><span class="line">-rw-r--r--  1 root root  163 Feb 25 01:48 4byte.json</span><br><span class="line">-rw-r--r--  1 root root  249 Feb 25 01:48 rules.js</span><br></pre></td></tr></tbody></table></figure>



<h4 id="启动Bee-Clef"><a href="#启动Bee-Clef" class="headerlink" title="启动Bee-Clef"></a>启动Bee-Clef</h4><p>在使用后台启动之前，建议先通过手工启动查看bee-clef是否正确安装。正常启动后会有一下的日志打印，其中会出现三个文件路径</p>
<ul>
<li><p><code>/etc/bee-clef/4byte.json</code></p>
<p>4byte数据库文件，包含了默认的Bee需要的一些方法。</p>
</li>
<li><p><code>/etc/bee-clef/rules.js</code> </p>
<p>签名器规则文件，定义了最基本的签名规则。比如一般来说，我们的很多交易或操作需要用户手工确认才能进行。但是也有一些操作，可以在不提示用户的情况下直接允许，比如规则文件里提到的启动、列出账户等。</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">function OnSignerStartup() {</span><br><span class="line">    return "Approve"</span><br><span class="line">}</span><br><span class="line">function OnApprovedTx() {</span><br><span class="line">    return "Approve"</span><br><span class="line">}</span><br><span class="line">function ApproveListing() {</span><br><span class="line">    return "Approve"</span><br><span class="line">}</span><br><span class="line">function ApproveTx() {</span><br><span class="line">    return "Approve"</span><br><span class="line">}</span><br><span class="line">function ApproveSignData() {</span><br><span class="line">    return "Approve"</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure></li>
<li><p><code>/var/lib/bee-clef/clef.ipc</code> </p>
<p>这个是bee-clef签名器与Bee节点之间进行通信的IPC通信管道，bee的所有请求都是通过这个管道发送到bee-clef。在接下来Bee的配置文件中也会用到。</p>
<p>bee-clef正常启动后，一旦<code>bee</code>节点开始跟<code>bee-clef</code>交互，日志中每隔几秒或几分钟就会打印<code>INFO [05-11|23:41:53.365] Op approved</code>. </p>
</li>
</ul>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> bee-clef-service start</span></span><br><span class="line">bee-clef-service /var/lib/bee-clef /var/lib/bee-clef/password /etc/bee-clef</span><br><span class="line">Waiting for the clef.ipc file to show up at /var/lib/bee-clef/clef.ipc</span><br><span class="line"></span><br><span class="line">WARNING!</span><br><span class="line"></span><br><span class="line">Clef is an account management tool. It may, like any software, contain bugs.</span><br><span class="line"></span><br><span class="line">Please take care to</span><br><span class="line">- backup your keystore files,</span><br><span class="line">- verify that the keystore(s) can be opened with your password.</span><br><span class="line"></span><br><span class="line">Clef is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;</span><br><span class="line">without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span><br><span class="line">PURPOSE. See the GNU General Public License for more details.</span><br><span class="line">INFO [05-11|23:35:49.197] Using stdin/stdout as UI-channel</span><br><span class="line">INFO [05-11|23:35:49.925] Loaded 4byte database                    embeds=146841 locals=4 local=/etc/bee-clef/4byte.json</span><br><span class="line">{"jsonrpc":"2.0","id":1,"method":"ui_onInputRequired","params":[{"title":"Master Password","prompt":"Please enter the password to decrypt the master seed","isPassword":true}]}</span><br><span class="line">Waiting for the clef.ipc file to show up at /var/lib/bee-clef/clef.ipc</span><br><span class="line">INFO [05-11|23:35:51.134] Rule engine configured                   file=/etc/bee-clef/rules.js</span><br><span class="line">INFO [05-11|23:35:51.134] Starting signer                          chainid=5 keystore=/var/lib/bee-clef/keystore light-kdf=true advanced=false</span><br><span class="line">INFO [05-11|23:35:51.135] IPC endpoint opened                      url=/var/lib/bee-clef/clef.ipc</span><br><span class="line">{"jsonrpc":"2.0","method":"ui_onSignerStartup","params":[{"info":{"extapi_http":"n/a","extapi_ipc":"/var/lib/bee-clef/clef.ipc","extapi_version":"6.1.0","intapi_version":"7.0.1"}}]}</span><br><span class="line">INFO [05-11|23:36:12.193] Op approved</span><br><span class="line">INFO [05-11|23:36:12.203] Op approved</span><br><span class="line">INFO [05-11|23:41:53.365] Op approved</span><br><span class="line">INFO [05-11|23:45:04.948] Op approved</span><br><span class="line">INFO [05-11|23:45:08.734] Op approved</span><br></pre></td></tr></tbody></table></figure>



<h4 id="Bee-Clef数据存储"><a href="#Bee-Clef数据存储" class="headerlink" title="Bee-Clef数据存储"></a>Bee-Clef数据存储</h4><p>bee-clef的密钥及其它数据默认存储在<code>/var/lib/bee-clef/</code>. </p>
<ul>
<li><code>1e4b791d7af0cf7a42a8/ </code> - bee-clef账户保险库，里边的config.json文件中会保存加密过的key/value配置文件。</li>
<li><code>clef.ipc</code> - 刚才提到的IPC通信管道。</li>
<li><code>keystore/</code> - bee-clef的账户地址。bee通过这个地址接入测试网或主网。</li>
<li><code>masterseed.json</code> - 存放bee-clef密码</li>
<li><code>password</code>账户的密钥文件 </li>
</ul>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> ll /var/lib/bee-clef/</span></span><br><span class="line">total 24</span><br><span class="line">drwxr-x---  4 bee-clef bee-clef 4096 May 11 19:07 ./</span><br><span class="line">drwxr-xr-x 50 root     root     4096 May 11 00:26 ../</span><br><span class="line">drwx------  2 bee-clef bee-clef 4096 May 11 00:24 1e4b791d7af0cf7a42a8/</span><br><span class="line">srw-rw----  1 root     root        0 May 11 19:07 clef.ipc=</span><br><span class="line">drwx------  2 bee-clef bee-clef 4096 May 11 00:24 keystore/</span><br><span class="line">-r--------  1 bee-clef bee-clef  868 May 11 00:24 masterseed.json</span><br><span class="line">-rw-------  1 bee-clef bee-clef   32 May 11 00:24 password</span><br></pre></td></tr></tbody></table></figure>



<h3 id="1-2-Bee安装"><a href="#1-2-Bee安装" class="headerlink" title="1.2 Bee安装"></a>1.2 Bee安装</h3><p>安装完bee-clef并确保其正常启动后，我们来安装Bee。</p>
<h4 id="查看最新版本"><a href="#查看最新版本" class="headerlink" title="查看最新版本"></a>查看最新版本</h4><p>先到[Bee版本下载](<a target="_blank" rel="noopener" href="https://github.com/ethersphere/bee/releases/">Releases · ethersphere/bee (github.com)</a>)查看最新版本，当前最新版本为v0.5.3. </p>
<h4 id="下载并安装Bee"><a href="#下载并安装Bee" class="headerlink" title="下载并安装Bee"></a>下载并安装Bee</h4><figure class="highlight sh hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/ethersphere/bee/releases/download/v0.5.3/bee_0.5.3_amd64.deb</span><br><span class="line">sudo dpkg -i bee_0.5.3_amd64.deb</span><br></pre></td></tr></tbody></table></figure>



<h4 id="配置Bee"><a href="#配置Bee" class="headerlink" title="配置Bee"></a>配置Bee</h4><p>安装完毕以后默认配置文件在<code>/etc/bee/bee.yaml</code>。也可以运行<code>bee printconfig &amp;&gt; bee-default.yaml</code>打印当前的Bee配置作为模板来自己修改。其中几个地方需要注意。</p>
<ul>
<li><p>clef配置 - 需要根据Bee-Clef的配置设置对应的IPC路径。</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## enable clef signer</span><br><span class="line">clef-signer-enable: true</span><br><span class="line">## clef signer endpoint</span><br><span class="line">clef-signer-endpoint: /var/lib/bee-clef/clef.ipc</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>debug API地址 - 如果需要运行bee-dashboard，必须设置。默认为本机的1635端口，也可以自己修改。</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">## debug HTTP API listen address (default ":1635")</span><br><span class="line">debug-api-addr: 127.0.0.1:1635</span><br><span class="line">## enable debug HTTP API</span><br><span class="line">debug-api-enable: true</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>Swap节点 - 以太坊交换节点，也就是接入以太坊的入口节点。必须设置，默认为本机的:8545端口，如果你在本机运行geth （go的以太坊客户端）。否则，推荐使用Warm官方公共节点<code>https://rpc.slock.it/goerli</code>。也可以自己到<a target="_blank" rel="noopener" href="https://infura.io/">Ethereum API | IPFS API &amp; Gateway | ETH Nodes as a Service | Infura</a> 注册一个，使用自己注册的节点来减少拥堵。</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## enable swap (default true)swap-enable: true## swap ethereum blockchain endpoint (default "http://localhost:8545")swap-endpoint: https://rpc.slock.it/goerli</span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<p>其它配置请参考<a target="_blank" rel="noopener" href="https://www.lovpia.com/Swarm/BeeConfiguration">配置文件 – MoDocs (lovpia.com)</a>。</p>
<h4 id="启动运行Bee"><a href="#启动运行Bee" class="headerlink" title="启动运行Bee"></a>启动运行Bee</h4><p>更新完配置文件以后，可以直接通过命令行启动来检测配置是否正确。第一次启动会需要输入密码，同时需要账户有至少10gBZZ作为启动资金。</p>
<h5 id="领取启动资金"><a href="#领取启动资金" class="headerlink" title="领取启动资金"></a>领取启动资金</h5><p>先通过<code>bee-clef-keys</code>命令获取节点的ethernum地址（在产生的<code>bee-clef-jey-xxxx.json</code>文件中<code>address</code>字段）。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://discord.com/channels/799027393297514537/813744618776428594">faucet-request (discord.com)</a> - 通过faucet机器人领取，是好是坏，碰运气。</li>
<li><a target="_blank" rel="noopener" href="https://faucet.goerli.mudit.blog/">Goerli: Authenticated Faucet (mudit.blog)</a> 需要先在Twitter上发布条信息，然后把twitter链接粘贴到页面里领取，可以一次领取37.5gETH，然后到<a target="_blank" rel="noopener" href="https://bzz.ethswarm.org/">Bzzaar (ethswarm.org)</a>兑换即可，成功率很高，而且可以兑换不止10个gBZZ. </li>
</ul>
<h5 id="运行Bee"><a href="#运行Bee" class="headerlink" title="运行Bee"></a>运行Bee</h5><p>可以直接执行<code>bee start</code>来启动，然后查看运行日志是否正常。如果使用自定义配置文件，就加上<code>--config &lt;path to bee.yaml&gt;</code>。</p>
<p>Bee正常启动以后，会默认监听:1633端口，当日志中出现<code>api address: xxxx</code>时，Bee已经启动。如果打开了debug api，也会在日志中看到<code>debug api address: xxx:1633</code>. </p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash"> bee start --config bee.yaml Welcome to the Swarm.... Bzzz Bzzzz Bzzzz                \     /            \    o ^ o    /              \ (     ) /   ____________(%%%%%%%)____________  (     /   /  )%%%%%%%(  \   \     )  (___/___/__/           \__\___\___)     (     /  /(%%%%%%%)\  \     )      (__/___/ (%%%%%%%) \___\__)              /(       )\            /   (%%%%%)   \                 (%%%)                   !                   INFO[2021-05-18T13:55:09+08:00] version: 0.5.3-acbd0e2                       INFO[2021-05-18T13:55:09+08:00] using swarm network address through clef: &lt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt; INFO[2021-05-18T13:55:09+08:00] swarm public key &lt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;  INFO[2021-05-18T13:55:09+08:00] pss public key &lt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt; INFO[2021-05-18T13:55:09+08:00] using ethereum address &lt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;INFO[2021-05-18T13:55:09+08:00] debug api address: 127.0.0.1:1635            INFO[2021-05-18T13:55:11+08:00] using default factory address <span class="hljs-keyword">for</span> chain id 5: &lt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt; INFO[2021-05-18T13:55:12+08:00] using existing chequebook &lt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt; INFO[2021-05-18T13:55:25+08:00] database capacity: 2000000 chunks (approximately 7.8GB) INFO[2021-05-18T13:55:33+08:00] name resolver: no name resolution service provided INFO[2021-05-18T13:55:33+08:00] api address: [::]:1633...<span class="hljs-comment"># 注意：其中的xxx为你的Bee节点对应的key和地址信息.</span></span></span><br></pre></td></tr></tbody></table></figure>

<p>确保Bee可以正常启动并运行以后，就可以把Bee加入到系统服务后台运行就可以了。</p>
<h4 id="查看Bee基本信息"><a href="#查看Bee基本信息" class="headerlink" title="查看Bee基本信息"></a>查看Bee基本信息</h4><p>最基本的就是在浏览器直接查看<code>localhost:1633</code>, 也可以在命令行用curl命令查看，如果显示<code>Ethereum Swarm Bee</code>就说明已经在运行了。</p>
<figure class="highlight plaintext hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># curl -s localhost:1633Ethereum Swarm Bee</span><br></pre></td></tr></tbody></table></figure>

<p>其它信息可以通过[bee debug api](<a target="_blank" rel="noopener" href="https://docs.ethswarm.org/debug-api/">Bee Debug API (ethswarm.org)</a>)查看。</p>
<p>比如自己做一个简单的bee_health_check.sh脚本，可以快速输出当前Bee节点的基本信息。</p>
<figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-meta">#</span><span class="hljs-bash">!/usr/bin/env bash<span class="hljs-comment"># get addresses of current nodeecho '====&gt; 获取Bee节点地址...'echo '&gt; curl -s localhost:1635/addresses'curl -s localhost:1635/addresses | jq# check connected peersecho '====&gt; 获取已经建立连接的节点列表...'echo '&gt; curl -s localhost:1635/peers'curl -s localhost:1635/peers | jq# check balance# echo '====&gt; 获取账户基本信息...'# echo 'curl -s localhost:1635/balances'# curl -s localhost:1635/balances | jq# get chequebook balanceecho '====&gt; 获取支票账户信息...'echo '&gt; curl -s localhost:1635/chequebook/balance'curl -s localhost:1635/chequebook/balance | jqecho '====&gt; 获取支票信息...'echo '&gt; curl -s localhost:1635/chequebook/cheque'curl -s localhost:1635/chequebook/cheque | jq</span></span>                             </span><br></pre></td></tr></tbody></table></figure>

<p>另外一种方式是直接使用bee-dashboard查看，就是把bee debug api获取的状态通过图形界面可视化。需要提前打开debug api，具体参考[bee-dashboard教程](<a target="_blank" rel="noopener" href="https://github.com/ethersphere/bee-dashboard">ethersphere/bee-dashboard: An app which helps users to setup their Bee node and do actions like cash out cheques (github.com)</a>)。</p>
<h2 id="2-其它注意事项"><a href="#2-其它注意事项" class="headerlink" title="2. 其它注意事项"></a>2. 其它注意事项</h2><h3 id="问题1：could-not-connect-to-backend-at-xxx"><a href="#问题1：could-not-connect-to-backend-at-xxx" class="headerlink" title="问题1：could not connect to backend at xxx"></a>问题1：<code>could not connect to backend at xxx</code></h3><figure class="highlight shell hljs"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">could not connect to backend at https://rpc.slock.it/goerli. In a swap-enabled network a working blockchain node (for goerli network in production) is required. Check your node or specify another node using --swap-endpoint. Error: get chain id: Post "https://rpc.slock.it/goerli": dial tcp 185.20.210.132:443: i/o timeout</span><br></pre></td></tr></tbody></table></figure>

<p>因为Swap节点不可用，或者节点拥堵，建议到<a target="_blank" rel="noopener" href="https://infura.io/">Ethereum API | IPFS API &amp; Gateway | ETH Nodes as a Service | Infura</a> 注册一个自己的节点，避免官方节点拥堵。</p>
</body></html>
    
    </div>
    
    
</article>




    
    
    </div>
</section>
    <footer class="footer">
    <div class="container">
        <div class="columns content">
            <div class="column is-narrow has-text-centered">
                &copy; 2021 moakap&nbsp;
                Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> & <a
                        target="_blank" rel="noopener" href="http://github.com/ppoffice/hexo-theme-minos">Minos</a>
            </div>
            <div class="column is-hidden-mobile"></div>

            
            
        </div>
    </div>
</footer>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script>

<!-- test if the browser is outdated -->
<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" target="_blank" rel="noopener" href="http://outdatedbrowser.com/">Update my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/outdated-browser/1.1.5/outdatedbrowser.min.js"></script>
<script>
    $(document).ready(function () {
        // plugin function, place inside DOM ready function
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        })
    });
</script>

<script>
    window.FontAwesomeConfig = {
        searchPseudoElements: true
    }
    moment.locale("en-AU");
</script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script>
    MathJax.Hub.Config({
        "HTML-CSS": {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
</script>

    
    
    
    
<script src="//cdnjs.cloudflare.com/ajax/libs/lightgallery/1.6.8/js/lightgallery-all.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/justifiedGallery/3.6.5/js/jquery.justifiedGallery.min.js"></script>
<script>
    (function ($) {
        $(document).ready(function () {
            if (typeof($.fn.lightGallery) === 'function') {
                $('.article.gallery').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof($.fn.justifiedGallery) === 'function') {
                $('.justified-gallery').justifiedGallery();
            }
        });
    })(jQuery);
</script>

    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
    <style>
        .hljs {
            position: relative;
        }

        .hljs .clipboard-btn {
            float: right;
            color: #9a9a9a;
            background: none;
            border: none;
            cursor: pointer;
        }

        .hljs .clipboard-btn:hover {
          color: #8a8a8a;
        }

        .hljs > .clipboard-btn {
            display: none;
            position: absolute;
            right: 4px;
            top: 4px;
        }

        .hljs:hover > .clipboard-btn {
            display: inline;
        }

        .hljs > figcaption > .clipboard-btn {
            margin-right: 4px;
        }
    </style>
    <script>
      $(document).ready(function () {
        $('figure.hljs').each(function(i, figure) {
          var codeId = 'code-' + i;
          var code = figure.querySelector('.code');
          var copyButton = $('<button>Copy <i class="far fa-clipboard"></i></button>');
          code.id = codeId;
          copyButton.addClass('clipboard-btn');
          copyButton.attr('data-clipboard-target-id', codeId);

          var figcaption = figure.querySelector('figcaption');

          if (figcaption) {
            figcaption.append(copyButton[0]);
          } else {
            figure.prepend(copyButton[0]);
          }
        })

        var clipboard = new ClipboardJS('.clipboard-btn', {
          target: function(trigger) {
            return document.getElementById(trigger.getAttribute('data-clipboard-target-id'));
          }
        });
        clipboard.on('success', function(e) {
          e.clearSelection();
        })
      })
    </script>

    
    

    



<script src="/js/script.js"></script>


    
    <div class="searchbox ins-search">
    <div class="searchbox-mask"></div>
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>

<script src="/js/insight.js"></script>

    
</body>
</html>